<div id="sheetContainer" class="character-sheet bg-gray-800 rounded-xl p-6 md:p-8 w-full max-w-4xl shadow-2xl">
    
    <h2 class="text-3xl font-bold text-white mb-6 border-b border-gray-600 pb-2">Personagens</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        
        {% for ficha in fichas %}
        <div class="ficha-card bg-gray-700 rounded-lg p-4 border border-gray-600 flex flex-col gap-4 hover:border-blue-400 transition-colors">
            
            <div class="flex items-center gap-4">
                <div class="avatar w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center overflow-hidden border-2 border-blue-500">
                   {% if ficha.img_url %}
                       <img src="{{ ficha.img_url }}" alt="{{ ficha.classe }}" class="object-cover h-full w-full">
                   {% else %}
                       <span class="text-2xl">⚔️</span>
                   {% endif %}
                </div>
                <div>
                    <h3 class="text-xl font-bold text-blue-300">{{ ficha.nome }}</h3>
                    <p class="text-gray-400 text-sm">{{ ficha.classe }} <span class="text-yellow-500">Lv. {{ ficha.nivel }}</span></p>
                </div>
            </div>

            <div class="status-bars space-y-2">
                <div class="text-xs text-gray-300 flex justify-between">
                    <span>HP</span> <span>{{ ficha.hp }}</span>
                </div>
                <div class="w-full bg-gray-900 rounded-full h-2.5">
                    <div class="bg-green-600 h-2.5 rounded-full" style="width: 100%"></div>
                </div>

                <div class="text-xs text-gray-300 flex justify-between">
                    <span>SP</span> <span>{{ ficha.sp }}</span>
                </div>
                <div class="w-full bg-gray-900 rounded-full h-2.5">
                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 80%"></div>
                </div>
            </div>

            <div class="atributos grid grid-cols-3 gap-2 mt-2 text-center">
                {% for key, value in ficha.atributos.items() %}
                <div class="bg-gray-800 rounded p-1 border border-gray-600">
                    <span class="block text-xs text-gray-500 uppercase">{{ key }}</span>
                    <span class="block text-sm font-mono text-white font-bold">{{ value }}</span>
                </div>
                {% endfor %}
            </div>

        </div>
        {% else %}
            <div class="col-span-full text-center text-gray-400 py-10">
                <p>Nenhuma ficha de herói encontrada.</p>
            </div>
        {% endfor %}

    </div>
</div>